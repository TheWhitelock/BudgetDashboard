@page "/Account/Register"
@using Microsoft.AspNetCore.Components.Authorization
@using BudgetDashboard.Web.Constants
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        @{
            Navigation.NavigateTo(RouteConstants.Pages.Home);
        }
    </Authorized>
    <NotAuthorized>
        <h3>Create Account</h3>

        <div class="mb-3">
            <label>Email</label>
            <input id="registerEmail" type="email" class="form-control" required />
        </div>

        <div class="mb-3">
            <label>Password</label>
            <input id="registerPassword" type="password" class="form-control" required />
        </div>

        <div class="mb-3">
            <label>Confirm Password</label>
            <input id="registerConfirmPassword" type="password" class="form-control" required />
        </div>

        <button type="button" class="btn btn-primary" onclick="window.performRegister(document.getElementById('registerEmail').value, document.getElementById('registerPassword').value, document.getElementById('registerConfirmPassword').value)">Register</button>

        <hr />

        <p class="text-muted">Already have an account? <a href="@RouteConstants.Account.LoginPath">Login here</a></p>
    </NotAuthorized>
</AuthorizeView>