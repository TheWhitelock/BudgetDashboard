@using BudgetDashboard.Data.Entities
@using BudgetDashboard.Data.Extensions

<div class="card budget-card" @onclick="() => OnEdit.InvokeAsync(Budget)" style="cursor: pointer;">
    <div class="card-body">
        <div class="d-flex align-items-center gap-2 card-title">
            <i class="fas fa-piggy-bank"></i>
            <span>@Budget.Name</span>
        </div>

        <h2 class="card-text mb-1">
            € @TotalAmount.ToString("N2")
        </h2>
        <small class="text-muted">
            of which € @OptionalAmount.ToString("N2") is optional
        </small>
    </div>
</div>

@code {
    [Parameter] public Budget Budget { get; set; } = default!;
    [Parameter] public EventCallback<Budget> OnEdit { get; set; }

    private decimal TotalAmount => Budget.GetTotalAmount();
    private decimal OptionalAmount => Budget.GetOptionalAmount();
}
